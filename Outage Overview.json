{"version":11,"variables":[],"tiles":{"33":{"type":"code","title":"Closed Problems","input":"import { problemsClient } from '@dynatrace-sdk/client-classic-environment-v2';\n\nasync function getProblemsList() {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const response = await problemsClient.getProblems({\n   //from: 'now-7d', problemSelector: 'managementZones(\"EasyTrade\")'\n    from: startTime,to: endTime, problemSelector: \"status(Closed), text(\\\"outage\\\")\"\n    //from: 'now-7d', problemSelector: \"status(Open)\"\n  });\n  const result = await response;\n // console.log(result.problems);\n  return result.problems;\n}\n\nfunction expandArray(array) {\n  if (array.length == 1) {\n    return array[0].name;\n  } else if (array.length > 1) {\n    var retVal = \"\"\n    for (let i=0;i<array.length;i++) {\n      if (i!=0) {\n        retVal = retVal + \", \" + array[i].name;\n      } else {\n        retVal = array[i].name;\n      }\n    }\n    return retVal;\n  }\n  return \"\"; \n}\n\nexport default async function () {\n  const response = await getProblemsList();\n  //console.log(response);\n  const problems=response;\n  const types = [{\n      mappings: {\n        startTime: {type: 'timestamp'},\n        status: {type: 'string'},\n        displayId: {type: 'string'},\n        title: {type: 'string'},\n        impactLevel: {type: 'string'},\n        severityLevel: {type: 'string'},\n        affectedEntities: {type: 'string'},\n        duration: {type: 'double'},\n        impactedEntities: {type: 'string'},\n        rootCauseEntity: {type: 'string'},\n        \"event.id\": {type: 'string'},\n        endTime: {type: 'timestamp'}\n        },\n        indexRange: [\n        0,\n        problems.length\n      ]\n  }]\n  //console.log(types);\n  // Create a new empty data frame for the result\n  const dataFrame = {\n    records: [],\n    types: types\n  }\n  \n  for(let i=0; i<problems.length; i++) {\n      const problem = problems[i];\n      var duration = \"\";\n      if (problem.endTime == null || problem.endTime == \"\" || problem.endTime < 0) {\n        duration = Math.round(((Date.now() - problem.startTime)/1000)/60);\n      } else {\n        duration = Math.round(((problem.endTime-problem.startTime)/1000)/60);\n      }\n      var pstatus = \"\";\n      if (problem.status == 'OPEN') {\n        pstatus = \"ðŸ”´ OPEN\";\n      } else {\n        pstatus = 'ðŸŸ¢ CLOSED';\n      }\n      var affectedEntities = expandArray(problem.affectedEntities);\n      var impactedEntities = expandArray(problem.impactedEntities);\n      var rootCause = \"\";\n      if (problem.rootCauseEntity == null) {\n        rootCause = \"\"\n      } else {\n        rootCause = problem.rootCauseEntity[\"name\"];\n      }\n       const record = {\n              startTime: problem.startTime,\n              status: pstatus,\n              displayId: problem.displayId,\n              title: problem.title,\n              impactLevel: problem.impactLevel,\n              severityLevel: problem.severityLevel,\n              affectedEntities: affectedEntities,\n              impactedEntities: impactedEntities,\n              rootCauseEntity: rootCause,\n              duration: duration,\n              \"event.id\": problem.problemId,\n              endTime: problem.endTime\n            }\n        dataFrame.records.push(record);\n    }\n  //console.log(dataFrame);\n  return dataFrame;\n}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","categoricalBarChartSettings":{"categoryAxis":"status","categoryAxisLabel":"status","valueAxis":"duration","valueAxisLabel":"duration"},"fieldMapping":{"timestamp":"startTime","fields":["status"],"values":["duration"]}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[["impactLevel"],["severityLevel"],["affectedEntities"],["rootCauseEntity"],["event.id"],["status"],["endTime"]],"lineWrapIds":[["affectedEntities"]]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[["dataPond"],["rollupType"],["tenant"],["recordType"],["impactLevel"],["endTime"]],"firstVisibleRowIndex":0}},"visualization":"table"},"38":{"type":"code","title":"Problem MTTR (Minutes)","input":"import { problemsClient } from '@dynatrace-sdk/client-classic-environment-v2';\n\nasync function getProblemsList() {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const response = await problemsClient.getProblems({\n   //from: 'now-7d', problemSelector: 'managementZones(\"EasyTrade\")'\n    from: startTime,to: endTime, problemSelector: \"status(Closed), text(\\\"outage\\\")\"\n    //from: 'now-7d', problemSelector: \"status(Open)\"\n  });\n  const result = await response;\n // console.log(result.problems);\n  return result.problems;\n}\n\nfunction expandArray(array) {\n  if (array.length == 1) {\n    return array[0].name;\n  } else if (array.length > 1) {\n    var retVal = \"\"\n    for (let i=0;i<array.length;i++) {\n      if (i!=0) {\n        retVal = retVal + \", \" + array[i].name;\n      } else {\n        retVal = array[i].name;\n      }\n    }\n    return retVal;\n  }\n  return \"\"; \n}\n\nexport default async function () {\n  const response = await getProblemsList();\n  //console.log(response);\n  const problems=response;\n  const types = [{\n      mappings: {\n        startTime: {type: 'timestamp'},\n        status: {type: 'string'},\n        displayId: {type: 'string'},\n        title: {type: 'string'},\n        impactLevel: {type: 'string'},\n        severityLevel: {type: 'string'},\n        affectedEntities: {type: 'string'},\n        impactedEntities: {type: 'string'},\n        rootCauseEntity: {type: 'string'},\n        duration: {type: 'double'},\n        \"event.id\": {type: 'string'},\n        endTime: {type: 'timestamp'}\n        },\n        indexRange: [\n        0,\n        problems.length\n      ]\n  }]\n  //console.log(types);\n  // Create a new empty data frame for the result\n  const dataFrame = {\n    records: [],\n    types: types\n  }\n  var mttr = 0;\n  for(let i=0; i<problems.length; i++) {\n      const problem = problems[i];\n      var duration = \"\";\n      if (problem.endTime == null || problem.endTime == \"\" || problem.endTime < 0) {\n        duration = Math.round(((Date.now() - problem.startTime)/1000)/60);\n      } else {\n        duration = Math.round(((problem.endTime-problem.startTime)/1000)/60);\n      }\n      mttr = mttr + duration;\n      var pstatus = \"\";\n      if (problem.status == 'OPEN') {\n        pstatus = \"ðŸ”´ OPEN\";\n      } else {\n        pstatus = 'ðŸŸ¢ CLOSED';\n      }\n      var affectedEntities = expandArray(problem.affectedEntities);\n      var impactedEntities = expandArray(problem.impactedEntities);\n      var rootCause = \"\";\n      if (problem.rootCauseEntity == null) {\n        rootCause = \"\"\n      } else {\n        rootCause = problem.rootCauseEntity[\"name\"];\n      }\n       const record = {\n              startTime: problem.startTime,\n              status: pstatus,\n              displayId: problem.displayId,\n              title: problem.title,\n              impactLevel: problem.impactLevel,\n              severityLevel: problem.severityLevel,\n              affectedEntities: affectedEntities,\n              impactedEntities: impactedEntities,\n              rootCauseEntity: rootCause,\n              duration: duration,\n              \"event.id\": problem.problemId,\n              endTime: problem.endTime\n            }\n        dataFrame.records.push(record);\n    }\n  //console.log(dataFrame);\n//  return dataFrame;\n  return mttr/problems.length;\n}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"MTTR","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[["severityLevel"],["affectedEntities"],["impactedEntities"],["rootCauseEntity"],["event.id"]],"lineWrapIds":[["affectedEntities"]]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[["dataPond"],["rollupType"],["tenant"],["recordType"],["impactLevel"],["endTime"]],"firstVisibleRowIndex":0}},"visualization":"singleValue"},"42":{"type":"markdown","title":"","content":"![](data:image/webp;base64,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)"},"43":{"type":"markdown","title":"","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"44":{"type":"markdown","title":"","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"45":{"type":"markdown","title":"","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"46":{"type":"markdown","title":"","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"47":{"type":"code","title":"Open Problems","input":"import { problemsClient } from '@dynatrace-sdk/client-classic-environment-v2';\n\nasync function getProblemsList() {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const response = await problemsClient.getProblems({\n   //from: 'now-7d', problemSelector: 'managementZones(\"EasyTrade\")'\n    from: startTime,to: endTime, problemSelector: \"status(Open), text(\\\"outage\\\")\"\n    //from: 'now-7d', problemSelector: \"status(Open)\"\n  });\n  const result = await response;\n // console.log(result.problems);\n  return result.problems;\n}\n\nfunction expandArray(array) {\n  if (array.length == 1) {\n    return array[0].name;\n  } else if (array.length > 1) {\n    var retVal = \"\"\n    for (let i=0;i<array.length;i++) {\n      if (i!=0) {\n        retVal = retVal + \", \" + array[i].name;\n      } else {\n        retVal = array[i].name;\n      }\n    }\n    return retVal;\n  }\n  return \"\"; \n}\n\nexport default async function () {\n  const response = await getProblemsList();\n  //console.log(response);\n  const problems=response;\n  const types = [{\n      mappings: {\n        startTime: {type: 'timestamp'},\n        status: {type: 'string'},\n        displayId: {type: 'string'},\n        title: {type: 'string'},\n        impactLevel: {type: 'string'},\n        severityLevel: {type: 'string'},\n        affectedEntities: {type: 'string'},\n        duration: {type: 'double'},\n        impactedEntities: {type: 'string'},\n        rootCauseEntity: {type: 'string'},\n        \"event.id\": {type: 'string'},\n        endTime: {type: 'timestamp'}\n        },\n        indexRange: [\n        0,\n        problems.length\n      ]\n  }]\n  //console.log(types);\n  // Create a new empty data frame for the result\n  const dataFrame = {\n    records: [],\n    types: types\n  }\n  \n  for(let i=0; i<problems.length; i++) {\n      const problem = problems[i];\n      var duration = \"\";\n      if (problem.endTime == null || problem.endTime == \"\" || problem.endTime < 0) {\n        duration = Math.round(((Date.now() - problem.startTime)/1000)/60);\n      } else {\n        duration = Math.round(((problem.endTime-problem.startTime)/1000)/60);\n      }\n      var pstatus = \"\";\n      if (problem.status == 'OPEN') {\n        pstatus = \"ðŸ”´ OPEN\";\n      } else {\n        pstatus = 'ðŸŸ¢ CLOSED';\n      }\n      var affectedEntities = expandArray(problem.affectedEntities);\n      var impactedEntities = expandArray(problem.impactedEntities);\n      var rootCause = \"\";\n      if (problem.rootCauseEntity == null) {\n        rootCause = \"\"\n      } else {\n        rootCause = problem.rootCauseEntity[\"name\"];\n      }\n       const record = {\n              startTime: problem.startTime,\n              status: pstatus,\n              displayId: problem.displayId,\n              title: problem.title,\n              impactLevel: problem.impactLevel,\n              severityLevel: problem.severityLevel,\n              affectedEntities: affectedEntities,\n              impactedEntities: impactedEntities,\n              rootCauseEntity: rootCause,\n              duration: duration,\n              \"event.id\": problem.problemId,\n              endTime: problem.endTime\n            }\n        dataFrame.records.push(record);\n    }\n  //console.log(dataFrame);\n  return dataFrame;\n}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","categoricalBarChartSettings":{"categoryAxis":"status","categoryAxisLabel":"status","valueAxis":"duration","valueAxisLabel":"duration"},"fieldMapping":{"timestamp":"startTime","fields":["status"],"values":["duration"]}},"singleValue":{"showLabel":true,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[["severityLevel"],["affectedEntities"],["rootCauseEntity"],["event.id"],["status"],["endTime"],["impactLevel"]],"lineWrapIds":[["affectedEntities"]]},"tableSettings":{"displayMode":"edit","lineWrapIds":[],"hiddenColumns":[["dataPond"],["rollupType"],["tenant"],["recordType"],["impactLevel"],["endTime"]],"firstVisibleRowIndex":0}},"visualization":"table"},"49":{"type":"data","title":"Open Problem Count","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to\n| filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(event.status,\"OPEN\")\n| filter like(event.name,\"%outage\")\n| summarize {activeEvents = countDistinct(event.id)}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":false,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"columnWidths":{},"lineWrapIds":[["affected_entity_ids"]],"enableLineWrap":true}},"visualization":"singleValue"},"51":{"type":"data","title":"Problems by Event","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to \n| filter matchesValue(event.kind, \"DAVIS_PROBLEM\")\n| filter like(event.name,\"%outage\")\n| summarize count = countDistinct(display_id), by:{event.name}\n| sort count, direction:\"descending\"","visualization":"pieChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"legend":{"position":"right","hidden":false},"categoricalBarChartSettings":{"categoryAxis":"event.name","categoryAxisLabel":"event.name","valueAxis":"count","valueAxisLabel":"count"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}},"53":{"type":"data","title":"Closed Problem Count","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to\n| filter event.kind == \"DAVIS_PROBLEM\" and matchesValue(event.status,\"CLOSED\")\n| filter like(event.name,\"%outage\")\n| summarize {activeEvents = countDistinct(event.id)}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":false,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"columnWidths":{},"lineWrapIds":[["affected_entity_ids"]],"enableLineWrap":true}},"visualization":"singleValue"},"54":{"type":"data","title":"Problem Count","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to\n| filter event.kind == \"DAVIS_PROBLEM\"\n| filter like(event.name,\"%outage\")\n| summarize {activeEvents = countDistinct(event.id), by: {`10m interval` = bin(timestamp, 10m)}}","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"seriesOverrides":[{"seriesId":["activeEvents"],"override":{"color":{"Default":"var(--dt-colors-charts-security-risk-level-critical-default, #8a0012)"}}}],"legend":{"hidden":true}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"","autoscale":false,"alignment":"center"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"columnWidths":{},"lineWrapIds":[["affected_entity_ids"]],"enableLineWrap":true}},"visualization":"areaChart"},"55":{"type":"data","title":"Closed Problems by Event","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to \n| filter matchesValue(event.kind, \"DAVIS_PROBLEM\") and matchesValue(event.status,\"CLOSED\")\n| filter like(event.name,\"%outage\")\n| summarize count = countDistinct(display_id), by:{event.name}\n| sort count, direction:\"descending\"","visualization":"pieChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute","hideLabels":true},"legend":{"position":"right","hidden":false},"categoricalBarChartSettings":{"categoryAxis":"event.name","categoryAxisLabel":"event.name","valueAxis":"count","valueAxisLabel":"count"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}},"56":{"type":"data","title":"Top Problems by Event","query":"fetch events, from:$dt_timeframe_from, to:$dt_timeframe_to\n| filter event.kind == \"DAVIS_PROBLEM\"\n| filter like(event.name,\"%outage\")\n| summarize by:{event.name}, count = countDistinct(display_id)\n| sort count, direction:\"descending\"\n| limit 10","visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute"},"categoricalBarChartSettings":{"categoryAxis":"event.name","categoryAxisLabel":"Event","valueAxis":"count","valueAxisLabel":"Count","layout":"horizontal","scale":"absolute"},"colorPalette":"vulnerability-risk-level","legend":{"hidden":true}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center"},"table":{"rowDensity":"condensed","enableLineWrap":true,"enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}}}}},"layouts":{"33":{"x":12,"y":18,"w":12,"h":6},"38":{"x":20,"y":1,"w":4,"h":2},"42":{"x":0,"y":1,"w":10,"h":2},"43":{"x":0,"y":0,"w":24,"h":1},"44":{"x":0,"y":3,"w":24,"h":1},"45":{"x":0,"y":24,"w":24,"h":1},"46":{"x":0,"y":17,"w":24,"h":1},"47":{"x":0,"y":18,"w":12,"h":6},"49":{"x":12,"y":1,"w":4,"h":2},"51":{"x":0,"y":4,"w":8,"h":7},"53":{"x":16,"y":1,"w":4,"h":2},"54":{"x":0,"y":11,"w":24,"h":6},"55":{"x":16,"y":4,"w":8,"h":7},"56":{"x":8,"y":4,"w":8,"h":7}},"refreshRate":0}